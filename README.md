# react-virtualized를 활용하기

## 목표

1. 무한 스크롤이 가능한 리스트 만들기
2. autosizer를 사용해 사이즈가 다른 엘리먼트의 리스트 만들기

1, 2번의 조건을 모두 만족하는 리스트를 만들어보자

## 진행상황

2022.06.26

- 사이즈가 다른 엘리먼트의 리스트만들기는 성공
  무한스크롤 구현하는게 좀 어렵네ㅜㅠ
  일단 계속 진행해보자

---

2022.06.29

- 무한스크롤 & 사이즈가 다른 엘리먼트의 리스트를 구현함!
  AutoSizer > InfiniteLoader > List > CellMeasurer 구조로 구현해봤다.

### 특이점

1. InfiniteLoader에 아이템의 총 개수를 넣어주기때문에 그 개수에 맞춰서 스크롤의 높이가 정해진다. 그래서 데이터를 맨처음에 조금만 받아오더라도, 스크롤은 엄청 짧아짐!

2. loadMoreRows함수의 인자로 현재 리스트에 "실제로" 그려진 dom의 첫 index(startIndex)와 끝 index(stopIndex)가 넘어온다.
   그래서, 데이터 페칭의 기준은 스크롤이 바닥에 "닿았을 때"가 아니라, stopIndex로 데이터 페칭을 결정해야한다.

3. `isRowLoaded`가 데이터를 더 불러올지 안불러올지의 기준?이 된다. 그래서 무한대로 데이터를 받아오면 false를 반환하면 된다.

```js
 isRowLoaded={(param) => {
                return false;
              }}
```

> 아직 개선점이 많지만 구현을 했다!! 이젠 무한스크롤 할 수 있는 다른 방식을 찾아봐야겠다
